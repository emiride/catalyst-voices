<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Sync from the chain to an in-memory buffer."><title>cardano_chain_follower::chain_sync - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cardano_chain_follower" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (0d634185d 2024-08-29)" data-channel="nightly" data-search-js="search-acd2e111c9cb27e3.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-cb0df477c2d67d00.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../cardano_chain_follower/index.html">cardano_<wbr>chain_<wbr>follower</a><span class="version">0.0.2</span></h2></div><h2 class="location"><a href="#">Module chain_<wbr>sync</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate cardano_<wbr>chain_<wbr>follower</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">cardano_chain_follower</a>::<wbr><a class="mod" href="#">chain_sync</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/cardano_chain_follower/chain_sync.rs.html#1-573">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Sync from the chain to an in-memory buffer.</p>
<p>All iteration of the chain is done through this buffer or a mithril snapshot.
Consumers of this library do not talk to the node directly.</p>
</div></details><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.MAX_NODE_CONNECT_RETRIES.html" title="constant cardano_chain_follower::chain_sync::MAX_NODE_CONNECT_RETRIES">MAX_<wbr>NODE_<wbr>CONNEC<wbr>T_<wbr>RETRIES</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The maximum number of times we wait for a nodeChainUpdate to connect.
Currently set to never give up.</div></li><li><div class="item-name"><a class="constant" href="constant.MAX_NODE_CONNECT_TIME_SECS.html" title="constant cardano_chain_follower::chain_sync::MAX_NODE_CONNECT_TIME_SECS">MAX_<wbr>NODE_<wbr>CONNEC<wbr>T_<wbr>TIME_<wbr>SECS</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The maximum number of seconds we wait for a node to connect.</div></li><li><div class="item-name"><a class="constant" href="constant.PEER_FAILURE_RECONNECT_DELAY.html" title="constant cardano_chain_follower::chain_sync::PEER_FAILURE_RECONNECT_DELAY">PEER_<wbr>FAILUR<wbr>E_<wbr>RECONNEC<wbr>T_<wbr>DELAY</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">How long we wait before trying to reconnect to a peer when it totally fails our
attempts.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.chain_sync.html" title="fn cardano_chain_follower::chain_sync::chain_sync">chain_<wbr>sync</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Handle the background downloading of Mithril snapshots for a given network.
Note: There can ONLY be at most three of these running at any one time.
This is because there can ONLY be one snapshot for each of the three known Cardano
networks.</div></li><li><div class="item-name"><a class="fn" href="fn.fetch_block_from_peer.html" title="fn cardano_chain_follower::chain_sync::fetch_block_from_peer">fetch_<wbr>block_<wbr>from_<wbr>peer</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Fetch a single block from the Peer, and Decode it.</div></li><li><div class="item-name"><a class="fn" href="fn.follow_chain.html" title="fn cardano_chain_follower::chain_sync::follow_chain">follow_<wbr>chain</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Follows the chain until there is an error.
If this returns it can be assumed the client is disconnected.</div></li><li><div class="item-name"><a class="fn" href="fn.live_sync_backfill.html" title="fn cardano_chain_follower::chain_sync::live_sync_backfill">live_<wbr>sync_<wbr>backfill</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Backfill the live chain, based on the Mithril Sync updates.
This does NOT return until the live chain has been backfilled from the end of mithril
to the current synced tip blocks.</div></li><li><div class="item-name"><a class="fn" href="fn.live_sync_backfill_and_purge.html" title="fn cardano_chain_follower::chain_sync::live_sync_backfill_and_purge">live_<wbr>sync_<wbr>backfill_<wbr>and_<wbr>purge</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Backfill and Purge the live chain, based on the Mithril Sync updates.</div></li><li><div class="item-name"><a class="fn" href="fn.persistent_reconnect.html" title="fn cardano_chain_follower::chain_sync::persistent_reconnect">persistent_<wbr>reconnect</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Do not return until we have a connection to the peer.</div></li><li><div class="item-name"><a class="fn" href="fn.point_at_tip.html" title="fn cardano_chain_follower::chain_sync::point_at_tip">point_<wbr>at_<wbr>tip</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Is the current point aligned with what we know as tip.</div></li><li><div class="item-name"><a class="fn" href="fn.process_next_block.html" title="fn cardano_chain_follower::chain_sync::process_next_block">process_<wbr>next_<wbr>block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Process a rollback detected from the peer.</div></li><li><div class="item-name"><a class="fn" href="fn.process_rollback.html" title="fn cardano_chain_follower::chain_sync::process_rollback">process_<wbr>rollback</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Process a rollback detected from the peer.</div></li><li><div class="item-name"><a class="fn" href="fn.process_rollback_actual.html" title="fn cardano_chain_follower::chain_sync::process_rollback_actual">process_<wbr>rollback_<wbr>actual</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Process a rollback.</div></li><li><div class="item-name"><a class="fn" href="fn.purge_and_intersect_tip.html" title="fn cardano_chain_follower::chain_sync::purge_and_intersect_tip">purge_<wbr>and_<wbr>intersect_<wbr>tip</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Purge the live chain, and intersect with TIP.</div></li><li><div class="item-name"><a class="fn" href="fn.resync_live_tip.html" title="fn cardano_chain_follower::chain_sync::resync_live_tip">resync_<wbr>live_<wbr>tip</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Resynchronize to the live tip in memory.</div></li><li><div class="item-name"><a class="fn" href="fn.retry_connect.html" title="fn cardano_chain_follower::chain_sync::retry_connect">retry_<wbr>connect</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Try and connect to a node, in a robust and quick way.</div></li></ul></section></div></main></body></html>