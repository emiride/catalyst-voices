<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: erd Pages: 1 -->
<svg width="3149pt" height="1693pt"
 viewBox="0.00 0.00 3149.00 1693.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1689)">
<title>erd</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1689 3145,-1689 3145,4 -4,4"/>
<text text-anchor="middle" x="1570.5" y="-1657" font-family="Times,serif" font-size="30.00" fill="blue">Role Registration Data</text>
<!-- cardano_reward -->
<g id="node1" class="node">
<title>cardano_reward</title>
<polygon fill="#009879" stroke="transparent" points="1166,-738 1166,-766 2035,-766 2035,-738 1166,-738"/>
<polygon fill="none" stroke="black" points="1166,-738 1166,-766 2035,-766 2035,-738 1166,-738"/>
<text text-anchor="start" x="1516" y="-748" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_reward</text>
<polygon fill="none" stroke="black" points="1166,-712 1166,-738 1286,-738 1286,-712 1166,-712"/>
<text text-anchor="start" x="1194" y="-721.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="1286,-712 1286,-738 1335,-738 1335,-712 1286,-712"/>
<text text-anchor="start" x="1289" y="-721.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="1335,-712 1335,-738 2035,-738 2035,-712 1335,-712"/>
<text text-anchor="start" x="1627" y="-721.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="1166,-678 1166,-712 1286,-712 1286,-678 1166,-678"/>
<polygon fill="none" stroke="black" points="1166,-678 1166,-712 1286,-712 1286,-678 1166,-678"/>
<text text-anchor="start" x="1169" y="-691.2" font-family="Times,serif" font-size="16.00">slot_no</text>
<polygon fill="#54ff9f" stroke="transparent" points="1286,-678 1286,-712 1335,-712 1335,-678 1286,-678"/>
<polygon fill="none" stroke="black" points="1286,-678 1286,-712 1335,-712 1335,-678 1286,-678"/>
<text text-anchor="start" x="1291" y="-691.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="#54ff9f" stroke="transparent" points="1335,-678 1335,-712 2035,-712 2035,-678 1335,-678"/>
<polygon fill="none" stroke="black" points="1335,-678 1335,-712 2035,-712 2035,-678 1335,-678"/>
<text text-anchor="start" x="1338" y="-698.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The slot number the rewards were earned for.</text>
<text text-anchor="start" x="1338" y="-684.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is the first slot of the epoch following the epoch the rewards were earned for.</text>
<polygon fill="#54ff9f" stroke="transparent" points="1166,-654 1166,-678 1286,-678 1286,-654 1166,-654"/>
<polygon fill="none" stroke="black" points="1166,-654 1166,-678 1286,-678 1286,-654 1166,-654"/>
<text text-anchor="start" x="1169" y="-662.2" font-family="Times,serif" font-size="16.00">network</text>
<polygon fill="#54ff9f" stroke="transparent" points="1286,-654 1286,-678 1335,-678 1335,-654 1286,-654"/>
<polygon fill="none" stroke="black" points="1286,-654 1286,-678 1335,-678 1335,-654 1286,-654"/>
<text text-anchor="start" x="1298" y="-662.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="#54ff9f" stroke="transparent" points="1335,-654 1335,-678 2035,-678 2035,-654 1335,-654"/>
<polygon fill="none" stroke="black" points="1335,-654 1335,-678 2035,-678 2035,-654 1335,-654"/>
<text text-anchor="start" x="1338" y="-663.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Cardano network for this rewards.</text>
<polygon fill="#54ff9f" stroke="transparent" points="1166,-630 1166,-654 1286,-654 1286,-630 1166,-630"/>
<polygon fill="none" stroke="black" points="1166,-630 1166,-654 1286,-654 1286,-630 1166,-630"/>
<text text-anchor="start" x="1169" y="-638.2" font-family="Times,serif" font-size="16.00">stake_credential</text>
<polygon fill="#54ff9f" stroke="transparent" points="1286,-630 1286,-654 1335,-654 1335,-630 1286,-630"/>
<polygon fill="none" stroke="black" points="1286,-630 1286,-654 1335,-654 1335,-630 1286,-630"/>
<text text-anchor="start" x="1293" y="-638.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="#54ff9f" stroke="transparent" points="1335,-630 1335,-654 2035,-654 2035,-630 1335,-630"/>
<polygon fill="none" stroke="black" points="1335,-630 1335,-654 2035,-654 2035,-630 1335,-630"/>
<text text-anchor="start" x="1338" y="-639.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The stake credential of the address who earned the rewards.</text>
<polygon fill="none" stroke="black" points="1166,-606 1166,-630 1286,-630 1286,-606 1166,-606"/>
<text text-anchor="start" x="1169" y="-614.2" font-family="Times,serif" font-size="16.00">earned_epoch_no</text>
<polygon fill="none" stroke="black" points="1286,-606 1286,-630 1335,-630 1335,-606 1286,-606"/>
<text text-anchor="start" x="1291" y="-614.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="1335,-606 1335,-630 2035,-630 2035,-606 1335,-606"/>
<text text-anchor="start" x="1338" y="-615.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The epoch number the rewards were earned for.</text>
<polygon fill="none" stroke="black" points="1166,-582 1166,-606 1286,-606 1286,-582 1166,-582"/>
<text text-anchor="start" x="1169" y="-590.2" font-family="Times,serif" font-size="16.00">value</text>
<polygon fill="none" stroke="black" points="1286,-582 1286,-606 1335,-606 1335,-582 1286,-582"/>
<text text-anchor="start" x="1291" y="-590.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="1335,-582 1335,-606 2035,-606 2035,-582 1335,-582"/>
<text text-anchor="start" x="1338" y="-591.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The value of the reward earned, in Lovelace</text>
<polygon fill="#333333" stroke="transparent" points="1166,-506 1166,-582 2035,-582 2035,-506 1166,-506"/>
<polygon fill="none" stroke="black" points="1166,-506 1166,-582 2035,-582 2035,-506 1166,-506"/>
<text text-anchor="start" x="1169" y="-568.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This table holds all earned rewards per stake address.</text>
<text text-anchor="start" x="1169" y="-554.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">It is possible for a Stake Address to earn multiple rewards in the same epoch.</text>
<text text-anchor="start" x="1169" y="-540.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This record contains the Total of all rewards earned in the relevant epoch.</text>
<text text-anchor="start" x="1169" y="-526.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This data structure is preliminary pending the exact method of determining</text>
<text text-anchor="start" x="1169" y="-512.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">the rewards earned by any particular stake address.</text>
</g>
<!-- cardano_slot_index -->
<g id="node2" class="node">
<title>cardano_slot_index</title>
<polygon fill="#009879" stroke="transparent" points="2132.5,-846 2132.5,-874 3141.5,-874 3141.5,-846 2132.5,-846"/>
<polygon fill="none" stroke="black" points="2132.5,-846 2132.5,-874 3141.5,-874 3141.5,-846 2132.5,-846"/>
<text text-anchor="start" x="2528.5" y="-856" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_slot_index</text>
<polygon fill="none" stroke="black" points="2132.5,-820 2132.5,-846 2212.5,-846 2212.5,-820 2132.5,-820"/>
<text text-anchor="start" x="2140.5" y="-829.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="2212.5,-820 2212.5,-846 2384.5,-846 2384.5,-820 2212.5,-820"/>
<text text-anchor="start" x="2277" y="-829.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="2384.5,-820 2384.5,-846 3141.5,-846 3141.5,-820 2384.5,-820"/>
<text text-anchor="start" x="2705" y="-829.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="2132.5,-786 2132.5,-820 2212.5,-820 2212.5,-786 2132.5,-786"/>
<polygon fill="none" stroke="black" points="2132.5,-786 2132.5,-820 2212.5,-820 2212.5,-786 2132.5,-786"/>
<text text-anchor="start" x="2135.5" y="-799.2" font-family="Times,serif" font-size="16.00">slot_no</text>
<polygon fill="#54ff9f" stroke="transparent" points="2212.5,-786 2212.5,-820 2384.5,-820 2384.5,-786 2212.5,-786"/>
<polygon fill="none" stroke="black" points="2212.5,-786 2212.5,-820 2384.5,-820 2384.5,-786 2212.5,-786"/>
<text text-anchor="start" x="2279" y="-799.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="#54ff9f" stroke="transparent" points="2384.5,-786 2384.5,-820 3141.5,-820 3141.5,-786 2384.5,-786"/>
<polygon fill="none" stroke="black" points="2384.5,-786 2384.5,-820 3141.5,-820 3141.5,-786 2384.5,-786"/>
<text text-anchor="start" x="2387.5" y="-806.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The slot number of the block. </text>
<text text-anchor="start" x="2387.5" y="-792.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is the first half of the Primary key.</text>
<polygon fill="#54ff9f" stroke="transparent" points="2132.5,-752 2132.5,-786 2212.5,-786 2212.5,-752 2132.5,-752"/>
<polygon fill="none" stroke="black" points="2132.5,-752 2132.5,-786 2212.5,-786 2212.5,-752 2132.5,-752"/>
<text text-anchor="start" x="2135.5" y="-765.2" font-family="Times,serif" font-size="16.00">network</text>
<polygon fill="#54ff9f" stroke="transparent" points="2212.5,-752 2212.5,-786 2384.5,-786 2384.5,-752 2212.5,-752"/>
<polygon fill="none" stroke="black" points="2212.5,-752 2212.5,-786 2384.5,-786 2384.5,-752 2212.5,-752"/>
<text text-anchor="start" x="2286" y="-765.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="#54ff9f" stroke="transparent" points="2384.5,-752 2384.5,-786 3141.5,-786 3141.5,-752 2384.5,-752"/>
<polygon fill="none" stroke="black" points="2384.5,-752 2384.5,-786 3141.5,-786 3141.5,-752 2384.5,-752"/>
<text text-anchor="start" x="2387.5" y="-772.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Cardano network for this slot. </text>
<text text-anchor="start" x="2387.5" y="-758.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is the second half of the primary key, as each network could use th same slot numbers.</text>
<polygon fill="none" stroke="black" points="2132.5,-728 2132.5,-752 2212.5,-752 2212.5,-728 2132.5,-728"/>
<text text-anchor="start" x="2135.5" y="-736.2" font-family="Times,serif" font-size="16.00">epoch_no</text>
<polygon fill="none" stroke="black" points="2212.5,-728 2212.5,-752 2384.5,-752 2384.5,-728 2212.5,-728"/>
<text text-anchor="start" x="2279" y="-736.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="2384.5,-728 2384.5,-752 3141.5,-752 3141.5,-728 2384.5,-728"/>
<text text-anchor="start" x="2387.5" y="-737.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The epoch number the slot appeared in.</text>
<polygon fill="none" stroke="black" points="2132.5,-704 2132.5,-728 2212.5,-728 2212.5,-704 2132.5,-704"/>
<text text-anchor="start" x="2135.5" y="-712.2" font-family="Times,serif" font-size="16.00">block_time</text>
<polygon fill="none" stroke="black" points="2212.5,-704 2212.5,-728 2384.5,-728 2384.5,-704 2212.5,-704"/>
<text text-anchor="start" x="2215.5" y="-712.2" font-family="Times,serif" font-size="16.00">timestamp with time zone</text>
<polygon fill="none" stroke="black" points="2384.5,-704 2384.5,-728 3141.5,-728 3141.5,-704 2384.5,-704"/>
<text text-anchor="start" x="2387.5" y="-713.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The time of the slot/block.</text>
<polygon fill="none" stroke="black" points="2132.5,-680 2132.5,-704 2212.5,-704 2212.5,-680 2132.5,-680"/>
<text text-anchor="start" x="2135.5" y="-688.2" font-family="Times,serif" font-size="16.00">block_hash</text>
<polygon fill="none" stroke="black" points="2212.5,-680 2212.5,-704 2384.5,-704 2384.5,-680 2212.5,-680"/>
<text text-anchor="start" x="2281" y="-688.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="2384.5,-680 2384.5,-704 3141.5,-704 3141.5,-680 2384.5,-680"/>
<text text-anchor="start" x="2387.5" y="-689.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The hash of the block.</text>
<polygon fill="#333333" stroke="transparent" points="2132.5,-632 2132.5,-680 3141.5,-680 3141.5,-632 2132.5,-632"/>
<polygon fill="none" stroke="black" points="2132.5,-632 2132.5,-680 3141.5,-680 3141.5,-632 2132.5,-632"/>
<text text-anchor="start" x="2135.5" y="-666.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This is an index of cardano blockchain slots.</text>
<text text-anchor="start" x="2135.5" y="-652.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">It allows us to quickly find data about every block in the cardano network.</text>
<text text-anchor="start" x="2135.5" y="-638.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This data is created when each block is first seen.</text>
</g>
<!-- cardano_reward&#45;&gt;cardano_slot_index -->
<g id="edge11" class="edge">
<title>cardano_reward:slot_no_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2036,-695C2064.85,-695 2093.43,-782.18 2122.23,-799.88"/>
<polygon fill="black" stroke="black" points="2121.41,-803.3 2132,-803 2123.54,-796.63 2121.41,-803.3"/>
</g>
<!-- cardano_reward&#45;&gt;cardano_slot_index -->
<g id="edge12" class="edge">
<title>cardano_reward:network_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2036,-666C2069.83,-666 2090.81,-779.49 2122.33,-799.88"/>
<polygon fill="black" stroke="black" points="2121.41,-803.26 2132,-803 2123.56,-796.6 2121.41,-803.26"/>
</g>
<!-- cardano_reward&#45;&gt;cardano_slot_index -->
<g id="edge13" class="edge">
<title>cardano_reward:slot_no_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2036,-695C2086.19,-695 2079.43,-759.23 2121.83,-768.01"/>
<polygon fill="black" stroke="black" points="2121.71,-771.51 2132,-769 2122.39,-764.55 2121.71,-771.51"/>
</g>
<!-- cardano_reward&#45;&gt;cardano_slot_index -->
<g id="edge14" class="edge">
<title>cardano_reward:network_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2036,-666C2094.91,-666 2072.52,-757.28 2121.91,-767.98"/>
<polygon fill="black" stroke="black" points="2121.7,-771.48 2132,-769 2122.4,-764.51 2121.7,-771.48"/>
</g>
<!-- cardano_txn_index -->
<g id="node3" class="node">
<title>cardano_txn_index</title>
<polygon fill="#009879" stroke="transparent" points="1104,-460 1104,-488 2096,-488 2096,-460 1104,-460"/>
<polygon fill="none" stroke="black" points="1104,-460 1104,-488 2096,-488 2096,-460 1104,-460"/>
<text text-anchor="start" x="1497.5" y="-470" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_txn_index</text>
<polygon fill="none" stroke="black" points="1104,-434 1104,-460 1174,-460 1174,-434 1104,-434"/>
<text text-anchor="start" x="1107" y="-443.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="1174,-434 1174,-460 1223,-460 1223,-434 1174,-434"/>
<text text-anchor="start" x="1177" y="-443.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="1223,-434 1223,-460 2096,-460 2096,-434 1223,-434"/>
<text text-anchor="start" x="1601.5" y="-443.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="1104,-400 1104,-434 1174,-434 1174,-400 1104,-400"/>
<polygon fill="none" stroke="black" points="1104,-400 1104,-434 1174,-434 1174,-400 1104,-400"/>
<text text-anchor="start" x="1107" y="-413.2" font-family="Times,serif" font-size="16.00">id</text>
<polygon fill="#54ff9f" stroke="transparent" points="1174,-400 1174,-434 1223,-434 1223,-400 1174,-400"/>
<polygon fill="none" stroke="black" points="1174,-400 1174,-434 1223,-434 1223,-400 1174,-400"/>
<text text-anchor="start" x="1181" y="-413.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="#54ff9f" stroke="transparent" points="1223,-400 1223,-434 2096,-434 2096,-400 1223,-400"/>
<polygon fill="none" stroke="black" points="1223,-400 1223,-434 2096,-434 2096,-400 1223,-400"/>
<text text-anchor="start" x="1226" y="-420.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The ID of the transaction.</text>
<text text-anchor="start" x="1226" y="-406.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is a 32 Byte Hash.</text>
<polygon fill="none" stroke="black" points="1104,-338 1104,-400 1174,-400 1174,-338 1104,-338"/>
<text text-anchor="start" x="1107" y="-365.2" font-family="Times,serif" font-size="16.00">slot_no</text>
<polygon fill="none" stroke="black" points="1174,-338 1174,-400 1223,-400 1223,-338 1174,-338"/>
<text text-anchor="start" x="1179" y="-366.2" font-family="Times,serif" font-style="italic" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="1223,-338 1223,-400 2096,-400 2096,-338 1223,-338"/>
<text text-anchor="start" x="1226" y="-386.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The slot number the transaction appeared in.</text>
<text text-anchor="start" x="1226" y="-372.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">If this is NULL, then the Transaction is no longer in a known slot, due to a rollback.</text>
<text text-anchor="start" x="1226" y="-358.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Such transactions should be considered invalid until the appear in a new slot.</text>
<text text-anchor="start" x="1226" y="-344.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">We only need to index transactions we care about and not every single transaction in the cardano network.</text>
<polygon fill="none" stroke="black" points="1104,-304 1104,-338 1174,-338 1174,-304 1104,-304"/>
<text text-anchor="start" x="1107" y="-317.2" font-family="Times,serif" font-size="16.00">network</text>
<polygon fill="none" stroke="black" points="1174,-304 1174,-338 1223,-338 1223,-304 1174,-304"/>
<text text-anchor="start" x="1186" y="-317.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="none" stroke="black" points="1223,-304 1223,-338 2096,-338 2096,-304 1223,-304"/>
<text text-anchor="start" x="1226" y="-324.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Cardano network for this transaction. </text>
<text text-anchor="start" x="1226" y="-310.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is the second half of the primary key, as each network could use the same transactions.</text>
<polygon fill="#333333" stroke="transparent" points="1104,-270 1104,-304 2096,-304 2096,-270 1104,-270"/>
<polygon fill="none" stroke="black" points="1104,-270 1104,-304 2096,-304 2096,-270 1104,-270"/>
<text text-anchor="start" x="1107" y="-290.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This is an index of all transactions in the cardano network.</text>
<text text-anchor="start" x="1107" y="-276.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">It allows us to quickly find a transaction by its id, and its slot number.</text>
</g>
<!-- cardano_txn_index&#45;&gt;cardano_slot_index -->
<g id="edge1" class="edge">
<title>cardano_txn_index:slot_no_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2096,-369C2189,-369 2047.14,-769.76 2121.79,-801.07"/>
<polygon fill="black" stroke="black" points="2121.52,-804.58 2132,-803 2122.83,-797.7 2121.52,-804.58"/>
</g>
<!-- cardano_txn_index&#45;&gt;cardano_slot_index -->
<g id="edge2" class="edge">
<title>cardano_txn_index:network_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2096,-321C2199.74,-321 2036.48,-770.61 2121.97,-801.35"/>
<polygon fill="black" stroke="black" points="2121.56,-804.83 2132,-803 2122.7,-797.92 2121.56,-804.83"/>
</g>
<!-- cardano_txn_index&#45;&gt;cardano_slot_index -->
<g id="edge3" class="edge">
<title>cardano_txn_index:slot_no_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2096,-369C2181.59,-369 2054.05,-736.86 2122.16,-767.04"/>
<polygon fill="black" stroke="black" points="2121.51,-770.48 2132,-769 2122.88,-763.61 2121.51,-770.48"/>
</g>
<!-- cardano_txn_index&#45;&gt;cardano_slot_index -->
<g id="edge4" class="edge">
<title>cardano_txn_index:network_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2096,-321C2192.17,-321 2043.91,-736.37 2121.94,-767.19"/>
<polygon fill="black" stroke="black" points="2121.54,-770.68 2132,-769 2122.78,-763.79 2121.54,-770.68"/>
</g>
<!-- cardano_update_state -->
<g id="node4" class="node">
<title>cardano_update_state</title>
<polygon fill="#009879" stroke="transparent" points="1112,-1616 1112,-1644 2088,-1644 2088,-1616 1112,-1616"/>
<polygon fill="none" stroke="black" points="1112,-1616 1112,-1644 2088,-1644 2088,-1616 1112,-1616"/>
<text text-anchor="start" x="1479.5" y="-1626" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_update_state</text>
<polygon fill="none" stroke="black" points="1112,-1590 1112,-1616 1192,-1616 1192,-1590 1112,-1590"/>
<text text-anchor="start" x="1120" y="-1599.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="1192,-1590 1192,-1616 1364,-1616 1364,-1590 1192,-1590"/>
<text text-anchor="start" x="1256.5" y="-1599.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="1364,-1590 1364,-1616 2088,-1616 2088,-1590 1364,-1590"/>
<text text-anchor="start" x="1668" y="-1599.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="1112,-1566 1112,-1590 1192,-1590 1192,-1566 1112,-1566"/>
<polygon fill="none" stroke="black" points="1112,-1566 1112,-1590 1192,-1590 1192,-1566 1112,-1566"/>
<text text-anchor="start" x="1115" y="-1574.2" font-family="Times,serif" font-size="16.00">id</text>
<polygon fill="#54ff9f" stroke="transparent" points="1192,-1566 1192,-1590 1364,-1590 1364,-1566 1192,-1566"/>
<polygon fill="none" stroke="black" points="1192,-1566 1192,-1590 1364,-1590 1364,-1566 1192,-1566"/>
<text text-anchor="start" x="1254" y="-1574.2" font-family="Times,serif" font-size="16.00">bigint+</text>
<polygon fill="#54ff9f" stroke="transparent" points="1364,-1566 1364,-1590 2088,-1590 2088,-1566 1364,-1566"/>
<polygon fill="none" stroke="black" points="1364,-1566 1364,-1590 2088,-1590 2088,-1566 1364,-1566"/>
<text text-anchor="start" x="1367" y="-1575.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Sequential ID of successive updates to the registration state data.</text>
<polygon fill="none" stroke="black" points="1112,-1542 1112,-1566 1192,-1566 1192,-1542 1112,-1542"/>
<text text-anchor="start" x="1115" y="-1550.2" font-family="Times,serif" font-size="16.00">started</text>
<polygon fill="none" stroke="black" points="1192,-1542 1192,-1566 1364,-1566 1364,-1542 1192,-1542"/>
<text text-anchor="start" x="1195" y="-1550.2" font-family="Times,serif" font-size="16.00">timestamp with time zone</text>
<polygon fill="none" stroke="black" points="1364,-1542 1364,-1566 2088,-1566 2088,-1542 1364,-1542"/>
<text text-anchor="start" x="1367" y="-1551.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The time the update started for this network.</text>
<polygon fill="none" stroke="black" points="1112,-1518 1112,-1542 1192,-1542 1192,-1518 1112,-1518"/>
<text text-anchor="start" x="1115" y="-1526.2" font-family="Times,serif" font-size="16.00">ended</text>
<polygon fill="none" stroke="black" points="1192,-1518 1192,-1542 1364,-1542 1364,-1518 1192,-1518"/>
<text text-anchor="start" x="1195" y="-1526.2" font-family="Times,serif" font-size="16.00">timestamp with time zone</text>
<polygon fill="none" stroke="black" points="1364,-1518 1364,-1542 2088,-1542 2088,-1518 1364,-1518"/>
<text text-anchor="start" x="1367" y="-1527.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The time the update was complete for this network.</text>
<polygon fill="none" stroke="black" points="1112,-1484 1112,-1518 1192,-1518 1192,-1484 1112,-1484"/>
<text text-anchor="start" x="1115" y="-1497.2" font-family="Times,serif" font-size="16.00">updater_id</text>
<polygon fill="none" stroke="black" points="1192,-1484 1192,-1518 1364,-1518 1364,-1484 1192,-1484"/>
<text text-anchor="start" x="1265.5" y="-1497.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="none" stroke="black" points="1364,-1484 1364,-1518 2088,-1518 2088,-1484 1364,-1484"/>
<text text-anchor="start" x="1367" y="-1504.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The ID of the node which performed the update. &#160;</text>
<text text-anchor="start" x="1367" y="-1490.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This helps us track which instance of the backend did which updates.</text>
<polygon fill="none" stroke="black" points="1112,-1460 1112,-1484 1192,-1484 1192,-1460 1112,-1460"/>
<text text-anchor="start" x="1115" y="-1468.2" font-family="Times,serif" font-size="16.00">slot_no</text>
<polygon fill="none" stroke="black" points="1192,-1460 1192,-1484 1364,-1484 1364,-1460 1192,-1460"/>
<text text-anchor="start" x="1258.5" y="-1468.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="1364,-1460 1364,-1484 2088,-1484 2088,-1460 1364,-1460"/>
<text text-anchor="start" x="1367" y="-1469.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The slot_no this update was run for.</text>
<polygon fill="none" stroke="black" points="1112,-1412 1112,-1460 1192,-1460 1192,-1412 1112,-1412"/>
<text text-anchor="start" x="1115" y="-1432.2" font-family="Times,serif" font-size="16.00">network</text>
<polygon fill="none" stroke="black" points="1192,-1412 1192,-1460 1364,-1460 1364,-1412 1192,-1412"/>
<text text-anchor="start" x="1265.5" y="-1432.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="none" stroke="black" points="1364,-1412 1364,-1460 2088,-1460 2088,-1412 1364,-1412"/>
<text text-anchor="start" x="1367" y="-1446.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Cardano network that was updated.</text>
<text text-anchor="start" x="1367" y="-1432.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">As networks are independent and updates are event driven, only one network</text>
<text text-anchor="start" x="1367" y="-1418.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">will be updated at a time.</text>
<polygon fill="none" stroke="black" points="1112,-1388 1112,-1412 1192,-1412 1192,-1388 1112,-1388"/>
<text text-anchor="start" x="1115" y="-1396.2" font-family="Times,serif" font-size="16.00">block_hash</text>
<polygon fill="none" stroke="black" points="1192,-1388 1192,-1412 1364,-1412 1364,-1388 1192,-1388"/>
<text text-anchor="start" x="1260.5" y="-1396.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="1364,-1388 1364,-1412 2088,-1412 2088,-1388 1364,-1388"/>
<text text-anchor="start" x="1367" y="-1397.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">none</text>
<polygon fill="none" stroke="black" points="1112,-1354 1112,-1388 1192,-1388 1192,-1354 1112,-1354"/>
<text text-anchor="start" x="1115" y="-1367.2" font-family="Times,serif" font-size="16.00">update</text>
<polygon fill="none" stroke="black" points="1192,-1354 1192,-1388 1364,-1388 1364,-1354 1192,-1354"/>
<text text-anchor="start" x="1251.5" y="-1368.2" font-family="Times,serif" font-style="italic" font-size="16.00">boolean</text>
<polygon fill="none" stroke="black" points="1364,-1354 1364,-1388 2088,-1388 2088,-1354 1364,-1354"/>
<text text-anchor="start" x="1367" y="-1374.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">True when this update updated any other tables.</text>
<text text-anchor="start" x="1367" y="-1360.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">False when a duplicate update was detected.</text>
<polygon fill="none" stroke="black" points="1112,-1320 1112,-1354 1192,-1354 1192,-1320 1112,-1320"/>
<text text-anchor="start" x="1115" y="-1333.2" font-family="Times,serif" font-size="16.00">rollback</text>
<polygon fill="none" stroke="black" points="1192,-1320 1192,-1354 1364,-1354 1364,-1320 1192,-1320"/>
<text text-anchor="start" x="1251.5" y="-1334.2" font-family="Times,serif" font-style="italic" font-size="16.00">boolean</text>
<polygon fill="none" stroke="black" points="1364,-1320 1364,-1354 2088,-1354 2088,-1320 1364,-1320"/>
<text text-anchor="start" x="1367" y="-1340.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">True when this update is as a result of a rollback on&#45;chain.</text>
<text text-anchor="start" x="1367" y="-1326.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">False when its a normal consecutive update.</text>
<polygon fill="none" stroke="black" points="1112,-1272 1112,-1320 1192,-1320 1192,-1272 1112,-1272"/>
<text text-anchor="start" x="1115" y="-1292.2" font-family="Times,serif" font-size="16.00">stats</text>
<polygon fill="none" stroke="black" points="1192,-1272 1192,-1320 1364,-1320 1364,-1272 1192,-1272"/>
<text text-anchor="start" x="1260" y="-1293.2" font-family="Times,serif" font-style="italic" font-size="16.00">jsonb</text>
<polygon fill="none" stroke="black" points="1364,-1272 1364,-1320 2088,-1320 2088,-1272 1364,-1272"/>
<text text-anchor="start" x="1367" y="-1306.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">A JSON stats record containing extra data about this update.</text>
<text text-anchor="start" x="1367" y="-1292.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Must conform to Schema: </text>
<text text-anchor="start" x="1367" y="-1278.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f"> &#160;&#160;&#160;`catalyst_schema://0f917b13&#45;afac&#45;40d2&#45;8263&#45;b17ca8219914/registration/update_stats`.</text>
<polygon fill="#333333" stroke="transparent" points="1112,-986 1112,-1272 2088,-1272 2088,-986 1112,-986"/>
<polygon fill="none" stroke="black" points="1112,-986 1112,-1272 2088,-1272 2088,-986 1112,-986"/>
<text text-anchor="start" x="1115" y="-1258.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">A record of the updates to the Cardano Registration data state.</text>
<text text-anchor="start" x="1115" y="-1244.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">Every time the state is updated, a new record is created.</text>
<text text-anchor="start" x="1115" y="-1230.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">On update, an updating node, must check if the slot it is updating already exists.</text>
<text text-anchor="start" x="1115" y="-1216.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">If it does, it checks if the indexed block is the same (same hash).</text>
<text text-anchor="start" x="1115" y="-1202.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">If it is, it sets `update` to false, and just saves its update state with no further action.</text>
<text text-anchor="start" x="1115" y="-1188.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This allows us to run multiple followers and update the database simultaneously.</text>
<text text-anchor="start" x="1115" y="-1160.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">IF the hash is different, then we need to handle that, logic not yet defined...</text>
<text text-anchor="start" x="1115" y="-1132.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This table also serves as a central lock source for updates to the registration state </text>
<text text-anchor="start" x="1115" y="-1118.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">which must be atomic.</text>
<text text-anchor="start" x="1115" y="-1104.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">Should be accessed with a pattern like:</text>
<text text-anchor="start" x="1115" y="-1076.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">```sql</text>
<text text-anchor="start" x="1115" y="-1062.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white"> &#160;&#160;&#160;BEGIN;</text>
<text text-anchor="start" x="1115" y="-1048.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;LOCK TABLE cardano_update_state IN ACCESS EXCLUSIVE MODE;</text>
<text text-anchor="start" x="1115" y="-1034.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#45;&#45; Read state, update any other tables as needed</text>
<text text-anchor="start" x="1115" y="-1020.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;INSERT INTO cardano_update_state SET ...; &#160;&#45;&#45; Set latest state</text>
<text text-anchor="start" x="1115" y="-1006.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white"> &#160;&#160;&#160;COMMIT;</text>
<text text-anchor="start" x="1115" y="-992.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">```</text>
</g>
<!-- cardano_update_state&#45;&gt;cardano_slot_index -->
<g id="edge5" class="edge">
<title>cardano_update_state:slot_no_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2089,-1472C2160,-1472 2067.05,-864.25 2122.68,-807.27"/>
<polygon fill="black" stroke="black" points="2124.37,-810.35 2132,-803 2121.45,-803.98 2124.37,-810.35"/>
</g>
<!-- cardano_update_state&#45;&gt;cardano_slot_index -->
<g id="edge6" class="edge">
<title>cardano_update_state:network_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2089,-1436C2156.05,-1436 2070.67,-863.31 2122.84,-807.38"/>
<polygon fill="black" stroke="black" points="2124.49,-810.47 2132,-803 2121.47,-804.16 2124.49,-810.47"/>
</g>
<!-- cardano_update_state&#45;&gt;cardano_slot_index -->
<g id="edge7" class="edge">
<title>cardano_update_state:slot_no_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2089,-1472C2163.74,-1472 2063.55,-830.74 2122.58,-773.13"/>
<polygon fill="black" stroke="black" points="2124.25,-776.22 2132,-769 2121.44,-769.81 2124.25,-776.22"/>
</g>
<!-- cardano_update_state&#45;&gt;cardano_slot_index -->
<g id="edge8" class="edge">
<title>cardano_update_state:network_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2089,-1436C2159.78,-1436 2067.23,-830.07 2122.7,-773.26"/>
<polygon fill="black" stroke="black" points="2124.37,-776.35 2132,-769 2121.45,-769.98 2124.37,-776.35"/>
</g>
<!-- cardano_utxo -->
<g id="node5" class="node">
<title>cardano_utxo</title>
<polygon fill="#009879" stroke="transparent" points="187,-600 187,-628 882,-628 882,-600 187,-600"/>
<polygon fill="none" stroke="black" points="187,-600 187,-628 882,-628 882,-600 187,-600"/>
<text text-anchor="start" x="462" y="-610" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_utxo</text>
<polygon fill="none" stroke="black" points="187,-574 187,-600 296,-600 296,-574 187,-574"/>
<text text-anchor="start" x="209.5" y="-583.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="296,-574 296,-600 347,-600 347,-574 296,-574"/>
<text text-anchor="start" x="300" y="-583.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="347,-574 347,-600 882,-600 882,-574 347,-574"/>
<text text-anchor="start" x="556.5" y="-583.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="187,-540 187,-574 296,-574 296,-540 187,-540"/>
<polygon fill="none" stroke="black" points="187,-540 187,-574 296,-574 296,-540 187,-540"/>
<text text-anchor="start" x="190" y="-553.2" font-family="Times,serif" font-size="16.00">tx_id</text>
<polygon fill="#54ff9f" stroke="transparent" points="296,-540 296,-574 347,-574 347,-540 296,-540"/>
<polygon fill="none" stroke="black" points="296,-540 296,-574 347,-574 347,-540 296,-540"/>
<text text-anchor="start" x="304" y="-553.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="#54ff9f" stroke="transparent" points="347,-540 347,-574 882,-574 882,-540 347,-540"/>
<polygon fill="none" stroke="black" points="347,-540 347,-574 882,-574 882,-540 347,-540"/>
<text text-anchor="start" x="350" y="-560.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The ID of the transaction containing the UTXO.</text>
<text text-anchor="start" x="350" y="-546.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">32 Byte Hash.</text>
<polygon fill="#54ff9f" stroke="transparent" points="187,-516 187,-540 296,-540 296,-516 187,-516"/>
<polygon fill="none" stroke="black" points="187,-516 187,-540 296,-540 296,-516 187,-516"/>
<text text-anchor="start" x="190" y="-524.2" font-family="Times,serif" font-size="16.00">index</text>
<polygon fill="#54ff9f" stroke="transparent" points="296,-516 296,-540 347,-540 347,-516 296,-516"/>
<polygon fill="none" stroke="black" points="296,-516 296,-540 347,-540 347,-516 296,-516"/>
<text text-anchor="start" x="299" y="-524.2" font-family="Times,serif" font-size="16.00">integer</text>
<polygon fill="#54ff9f" stroke="transparent" points="347,-516 347,-540 882,-540 882,-516 347,-516"/>
<polygon fill="none" stroke="black" points="347,-516 347,-540 882,-540 882,-516 347,-516"/>
<text text-anchor="start" x="350" y="-525.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The index of the UTXO within the transaction.</text>
<polygon fill="none" stroke="black" points="187,-492 187,-516 296,-516 296,-492 187,-492"/>
<text text-anchor="start" x="190" y="-500.2" font-family="Times,serif" font-size="16.00">value</text>
<polygon fill="none" stroke="black" points="296,-492 296,-516 347,-516 347,-492 296,-492"/>
<text text-anchor="start" x="302" y="-500.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="347,-492 347,-516 882,-516 882,-492 347,-492"/>
<text text-anchor="start" x="350" y="-501.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The value of the UTXO, in Lovelace if the asset is not defined.</text>
<polygon fill="none" stroke="black" points="187,-458 187,-492 296,-492 296,-458 187,-458"/>
<text text-anchor="start" x="190" y="-471.2" font-family="Times,serif" font-size="16.00">asset</text>
<polygon fill="none" stroke="black" points="296,-458 296,-492 347,-492 347,-458 296,-458"/>
<text text-anchor="start" x="303.5" y="-472.2" font-family="Times,serif" font-style="italic" font-size="16.00">jsonb</text>
<polygon fill="none" stroke="black" points="347,-458 347,-492 882,-492 882,-458 347,-458"/>
<text text-anchor="start" x="350" y="-478.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The asset of the UTXO, if any.</text>
<text text-anchor="start" x="350" y="-464.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">NULL = Ada/Lovelace.</text>
<polygon fill="none" stroke="black" points="187,-434 187,-458 296,-458 296,-434 187,-434"/>
<text text-anchor="start" x="190" y="-442.2" font-family="Times,serif" font-size="16.00">stake_credential</text>
<polygon fill="none" stroke="black" points="296,-434 296,-458 347,-458 347,-434 296,-434"/>
<text text-anchor="start" x="304" y="-443.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="347,-434 347,-458 882,-458 882,-434 347,-434"/>
<text text-anchor="start" x="350" y="-443.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The stake credential of the address which owns the UTXO.</text>
<polygon fill="none" stroke="black" points="187,-400 187,-434 296,-434 296,-400 187,-400"/>
<text text-anchor="start" x="190" y="-413.2" font-family="Times,serif" font-size="16.00">spent_tx_id</text>
<polygon fill="none" stroke="black" points="296,-400 296,-434 347,-434 347,-400 296,-400"/>
<text text-anchor="start" x="304" y="-414.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="347,-400 347,-434 882,-434 882,-400 347,-400"/>
<text text-anchor="start" x="350" y="-420.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The ID of the transaction which Spent the TX Output.</text>
<text text-anchor="start" x="350" y="-406.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">If we consider this UTXO Spent will depend on when it was spent.</text>
<polygon fill="#333333" stroke="transparent" points="187,-366 187,-400 882,-400 882,-366 187,-366"/>
<polygon fill="none" stroke="black" points="187,-366 187,-400 882,-400 882,-366 187,-366"/>
<text text-anchor="start" x="190" y="-386.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This table holds all UTXOs for any transaction which is tied to a stake address.</text>
<text text-anchor="start" x="190" y="-372.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This data allows us to calculate staked ADA at any particular instant in time.</text>
</g>
<!-- cardano_utxo&#45;&gt;cardano_txn_index -->
<g id="edge9" class="edge">
<title>cardano_utxo:tx_id_out&#45;&gt;cardano_txn_index:id</title>
<path fill="none" stroke="black" d="M883,-557C995.75,-557 988.31,-425.35 1093.78,-417.38"/>
<polygon fill="black" stroke="black" points="1094.14,-420.87 1104,-417 1093.88,-413.87 1094.14,-420.87"/>
</g>
<!-- cardano_utxo&#45;&gt;cardano_txn_index -->
<g id="edge10" class="edge">
<title>cardano_utxo:spent_tx_id_out&#45;&gt;cardano_txn_index:id</title>
<path fill="none" stroke="black" d="M883,-417C977.77,-417 1003.96,-417 1093.91,-417"/>
<polygon fill="black" stroke="black" points="1094,-420.5 1104,-417 1094,-413.5 1094,-420.5"/>
</g>
<!-- cardano_voter_registration -->
<g id="node6" class="node">
<title>cardano_voter_registration</title>
<polygon fill="#009879" stroke="transparent" points="0,-320 0,-348 1068,-348 1068,-320 0,-320"/>
<polygon fill="none" stroke="black" points="0,-320 0,-348 1068,-348 1068,-320 0,-320"/>
<text text-anchor="start" x="377.5" y="-330" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_voter_registration</text>
<polygon fill="none" stroke="black" points="0,-294 0,-320 129,-320 129,-294 0,-294"/>
<text text-anchor="start" x="32.5" y="-303.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="129,-294 129,-320 187,-320 187,-294 129,-294"/>
<text text-anchor="start" x="136.5" y="-303.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="187,-294 187,-320 1068,-320 1068,-294 187,-294"/>
<text text-anchor="start" x="569.5" y="-303.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="0,-260 0,-294 129,-294 129,-260 0,-260"/>
<polygon fill="none" stroke="black" points="0,-260 0,-294 129,-294 129,-260 0,-260"/>
<text text-anchor="start" x="3" y="-273.2" font-family="Times,serif" font-size="16.00">tx_id</text>
<polygon fill="#54ff9f" stroke="transparent" points="129,-260 129,-294 187,-294 187,-260 129,-260"/>
<polygon fill="none" stroke="black" points="129,-260 129,-294 187,-294 187,-260 129,-260"/>
<text text-anchor="start" x="140.5" y="-273.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="#54ff9f" stroke="transparent" points="187,-260 187,-294 1068,-294 1068,-260 187,-260"/>
<polygon fill="none" stroke="black" points="187,-260 187,-294 1068,-294 1068,-260 187,-260"/>
<text text-anchor="start" x="190" y="-280.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Transaction hash of the Transaction holding the registration metadata.</text>
<text text-anchor="start" x="190" y="-266.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This is used as the Primary Key because it is immutable in the face of potential rollbacks.</text>
<polygon fill="none" stroke="black" points="0,-236 0,-260 129,-260 129,-236 0,-236"/>
<text text-anchor="start" x="3" y="-244.2" font-family="Times,serif" font-size="16.00">stake_credential</text>
<polygon fill="none" stroke="black" points="129,-236 129,-260 187,-260 187,-236 129,-236"/>
<text text-anchor="start" x="140.5" y="-245.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="187,-236 187,-260 1068,-260 1068,-236 187,-236"/>
<text text-anchor="start" x="190" y="-245.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The stake credential of the address who registered.</text>
<polygon fill="none" stroke="black" points="0,-212 0,-236 129,-236 129,-212 0,-212"/>
<text text-anchor="start" x="3" y="-220.2" font-family="Times,serif" font-size="16.00">public_voting_key</text>
<polygon fill="none" stroke="black" points="129,-212 129,-236 187,-236 187,-212 129,-212"/>
<text text-anchor="start" x="140.5" y="-221.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="187,-212 187,-236 1068,-236 1068,-212 187,-212"/>
<text text-anchor="start" x="190" y="-221.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The public voting key of the address who registered.</text>
<polygon fill="none" stroke="black" points="0,-188 0,-212 129,-212 129,-188 0,-188"/>
<text text-anchor="start" x="3" y="-196.2" font-family="Times,serif" font-size="16.00">payment_address</text>
<polygon fill="none" stroke="black" points="129,-188 129,-212 187,-212 187,-188 129,-188"/>
<text text-anchor="start" x="140.5" y="-197.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="187,-188 187,-212 1068,-212 1068,-188 187,-188"/>
<text text-anchor="start" x="190" y="-197.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The payment address where any voter rewards associated with this registration will be sent.</text>
<polygon fill="none" stroke="black" points="0,-164 0,-188 129,-188 129,-164 0,-164"/>
<text text-anchor="start" x="3" y="-172.2" font-family="Times,serif" font-size="16.00">nonce</text>
<polygon fill="none" stroke="black" points="129,-164 129,-188 187,-188 187,-164 129,-164"/>
<text text-anchor="start" x="138.5" y="-173.2" font-family="Times,serif" font-style="italic" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="187,-164 187,-188 1068,-188 1068,-164 187,-164"/>
<text text-anchor="start" x="190" y="-173.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The nonce of the registration. &#160;Registrations for the same stake address with higher nonces have priority.</text>
<polygon fill="none" stroke="black" points="0,-116 0,-164 129,-164 129,-116 0,-116"/>
<text text-anchor="start" x="3" y="-136.2" font-family="Times,serif" font-size="16.00">metadata_cip36</text>
<polygon fill="none" stroke="black" points="129,-116 129,-164 187,-164 187,-116 129,-116"/>
<text text-anchor="start" x="140.5" y="-137.2" font-family="Times,serif" font-style="italic" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="187,-116 187,-164 1068,-164 1068,-116 187,-116"/>
<text text-anchor="start" x="190" y="-150.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The raw metadata for the CIP&#45;15/36 registration.</text>
<text text-anchor="start" x="190" y="-136.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">This data is optional, a parameter in config specifies how long raw registration metadata should be kept.</text>
<text text-anchor="start" x="190" y="-122.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Outside this time, the Registration record will be kept, but the raw metadata will be purged.</text>
<polygon fill="none" stroke="black" points="0,-82 0,-116 129,-116 129,-82 0,-82"/>
<text text-anchor="start" x="3" y="-95.2" font-family="Times,serif" font-size="16.00">valid</text>
<polygon fill="none" stroke="black" points="129,-82 129,-116 187,-116 187,-82 129,-82"/>
<text text-anchor="start" x="132" y="-95.2" font-family="Times,serif" font-size="16.00">boolean</text>
<polygon fill="none" stroke="black" points="187,-82 187,-116 1068,-116 1068,-82 187,-82"/>
<text text-anchor="start" x="190" y="-102.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">True if the registration is valid, false if the registration is invalid.</text>
<text text-anchor="start" x="190" y="-88.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">`stats` can be checked to determine WHY the registration is considered invalid.</text>
<polygon fill="none" stroke="black" points="0,-34 0,-82 129,-82 129,-34 0,-34"/>
<text text-anchor="start" x="3" y="-54.2" font-family="Times,serif" font-size="16.00">stats</text>
<polygon fill="none" stroke="black" points="129,-34 129,-82 187,-82 187,-34 129,-34"/>
<text text-anchor="start" x="140" y="-55.2" font-family="Times,serif" font-style="italic" font-size="16.00">jsonb</text>
<polygon fill="none" stroke="black" points="187,-34 187,-82 1068,-82 1068,-34 187,-34"/>
<text text-anchor="start" x="190" y="-68.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Statistical information about the registration.</text>
<text text-anchor="start" x="190" y="-54.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">Must conform to Schema: </text>
<text text-anchor="start" x="190" y="-40.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f"> &#160;&#160;&#160;`catalyst_schema://fd5a2f8f&#45;afb4&#45;4cf7&#45;ae6b&#45;b7a370c85c82/registration/cip36_stats`.</text>
<polygon fill="#333333" stroke="transparent" points="0,0 0,-34 1068,-34 1068,0 0,0"/>
<polygon fill="none" stroke="black" points="0,0 0,-34 1068,-34 1068,0 0,0"/>
<text text-anchor="start" x="3" y="-20.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">All CIP15/36 Voter Registrations that are on&#45;chain.</text>
<text text-anchor="start" x="3" y="-6.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This tables stores all found registrations, even if they are invalid, or have been rolled back.</text>
</g>
<!-- cardano_voter_registration&#45;&gt;cardano_txn_index -->
<g id="edge19" class="edge">
<title>cardano_voter_registration:tx_id_out&#45;&gt;cardano_txn_index:id</title>
<path fill="none" stroke="black" d="M1068,-277C1128.36,-277 1050.38,-400.56 1093.98,-415.52"/>
<polygon fill="black" stroke="black" points="1093.6,-419 1104,-417 1094.62,-412.08 1093.6,-419"/>
</g>
<!-- cardano_withdrawn_reward -->
<g id="node7" class="node">
<title>cardano_withdrawn_reward</title>
<polygon fill="#009879" stroke="transparent" points="1123,-940 1123,-968 2078,-968 2078,-940 1123,-940"/>
<polygon fill="none" stroke="black" points="1123,-940 1123,-968 2078,-968 2078,-940 1123,-940"/>
<text text-anchor="start" x="1456" y="-950" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">cardano_withdrawn_reward</text>
<polygon fill="none" stroke="black" points="1123,-914 1123,-940 1384,-940 1384,-914 1123,-914"/>
<text text-anchor="start" x="1221.5" y="-923.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Column</text>
<polygon fill="none" stroke="black" points="1384,-914 1384,-940 1509,-940 1509,-914 1384,-914"/>
<text text-anchor="start" x="1425" y="-923.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="1509,-914 1509,-940 2078,-940 2078,-914 1509,-914"/>
<text text-anchor="start" x="1735.5" y="-923.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Description</text>
<polygon fill="#54ff9f" stroke="transparent" points="1123,-890 1123,-914 1384,-914 1384,-890 1123,-890"/>
<polygon fill="none" stroke="black" points="1123,-890 1123,-914 1384,-914 1384,-890 1123,-890"/>
<text text-anchor="start" x="1126" y="-898.2" font-family="Times,serif" font-size="16.00">slot_no</text>
<polygon fill="#54ff9f" stroke="transparent" points="1384,-890 1384,-914 1509,-914 1509,-890 1384,-890"/>
<polygon fill="none" stroke="black" points="1384,-890 1384,-914 1509,-914 1509,-890 1384,-890"/>
<text text-anchor="start" x="1427" y="-898.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="#54ff9f" stroke="transparent" points="1509,-890 1509,-914 2078,-914 2078,-890 1509,-890"/>
<polygon fill="none" stroke="black" points="1509,-890 1509,-914 2078,-914 2078,-890 1509,-890"/>
<text text-anchor="start" x="1512" y="-899.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The slot number the rewards were withdrawn for.</text>
<polygon fill="#54ff9f" stroke="transparent" points="1123,-866 1123,-890 1384,-890 1384,-866 1123,-866"/>
<polygon fill="none" stroke="black" points="1123,-866 1123,-890 1384,-890 1384,-866 1123,-866"/>
<text text-anchor="start" x="1126" y="-874.2" font-family="Times,serif" font-size="16.00">network</text>
<polygon fill="#54ff9f" stroke="transparent" points="1384,-866 1384,-890 1509,-890 1509,-866 1384,-866"/>
<polygon fill="none" stroke="black" points="1384,-866 1384,-890 1509,-890 1509,-866 1384,-866"/>
<text text-anchor="start" x="1434" y="-874.2" font-family="Times,serif" font-size="16.00">text</text>
<polygon fill="#54ff9f" stroke="transparent" points="1509,-866 1509,-890 2078,-890 2078,-866 1509,-866"/>
<polygon fill="none" stroke="black" points="1509,-866 1509,-890 2078,-890 2078,-866 1509,-866"/>
<text text-anchor="start" x="1512" y="-875.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The Cardano network this withdrawal occurred on.</text>
<polygon fill="none" stroke="black" points="1123,-842 1123,-866 1384,-866 1384,-842 1123,-842"/>
<text text-anchor="start" x="1126" y="-850.2" font-family="Times,serif" font-size="16.00">stake_credential</text>
<polygon fill="none" stroke="black" points="1384,-842 1384,-866 1509,-866 1509,-842 1384,-842"/>
<text text-anchor="start" x="1429" y="-850.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="1509,-842 1509,-866 2078,-866 2078,-842 1509,-842"/>
<text text-anchor="start" x="1512" y="-851.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The stake credential of the address who earned the rewards.</text>
<polygon fill="none" stroke="black" points="1123,-818 1123,-842 1384,-842 1384,-818 1123,-818"/>
<text text-anchor="start" x="1126" y="-826.2" font-family="Times,serif" font-size="16.00">value</text>
<polygon fill="none" stroke="black" points="1384,-818 1384,-842 1509,-842 1509,-818 1384,-818"/>
<text text-anchor="start" x="1427" y="-826.2" font-family="Times,serif" font-size="16.00">bigint</text>
<polygon fill="none" stroke="black" points="1509,-818 1509,-842 2078,-842 2078,-818 1509,-818"/>
<text text-anchor="start" x="1512" y="-827.3" font-family="Monospace" font-style="italic" font-size="14.00" fill="#7f7f7f">The value of the reward withdrawn, in Lovelace</text>
<polygon fill="#333333" stroke="transparent" points="1123,-784 1123,-818 2078,-818 2078,-784 1123,-784"/>
<polygon fill="none" stroke="black" points="1123,-784 1123,-818 2078,-818 2078,-784 1123,-784"/>
<text text-anchor="start" x="1126" y="-804.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This table holds all withdrawn rewards data.</text>
<text text-anchor="start" x="1126" y="-790.8" font-family="Monospace" font-style="italic" font-size="14.00" fill="white">This makes it possible to accurately calculate the rewards which are still available for a specific Stake Address .</text>
</g>
<!-- cardano_withdrawn_reward&#45;&gt;cardano_slot_index -->
<g id="edge15" class="edge">
<title>cardano_withdrawn_reward:slot_no_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2079,-902C2125.01,-902 2088.82,-817.86 2121.98,-804.72"/>
<polygon fill="black" stroke="black" points="2122.74,-808.14 2132,-803 2121.55,-801.24 2122.74,-808.14"/>
</g>
<!-- cardano_withdrawn_reward&#45;&gt;cardano_slot_index -->
<g id="edge16" class="edge">
<title>cardano_withdrawn_reward:network_out&#45;&gt;cardano_slot_index:slot_no</title>
<path fill="none" stroke="black" d="M2079,-878C2115.83,-878 2096.11,-816.93 2121.9,-805.01"/>
<polygon fill="black" stroke="black" points="2122.87,-808.38 2132,-803 2121.51,-801.52 2122.87,-808.38"/>
</g>
<!-- cardano_withdrawn_reward&#45;&gt;cardano_slot_index -->
<g id="edge17" class="edge">
<title>cardano_withdrawn_reward:slot_no_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2079,-902C2138.78,-902 2076.86,-784.62 2121.9,-770.4"/>
<polygon fill="black" stroke="black" points="2122.58,-773.84 2132,-769 2121.61,-766.91 2122.58,-773.84"/>
</g>
<!-- cardano_withdrawn_reward&#45;&gt;cardano_slot_index -->
<g id="edge18" class="edge">
<title>cardano_withdrawn_reward:network_out&#45;&gt;cardano_slot_index:network</title>
<path fill="none" stroke="black" d="M2079,-878C2128.87,-878 2085.66,-784.58 2121.71,-770.71"/>
<polygon fill="black" stroke="black" points="2122.71,-774.09 2132,-769 2121.56,-767.19 2122.71,-774.09"/>
</g>
<!-- LEGEND -->
<g id="node8" class="node">
<title>LEGEND</title>
<polygon fill="Pink" stroke="transparent" points="424,-796 424,-824 644,-824 644,-796 424,-796"/>
<polygon fill="none" stroke="black" points="424,-796 424,-824 644,-824 644,-796 424,-796"/>
<text text-anchor="start" x="497.5" y="-806" font-family="Courier bold italic" font-weight="bold" font-size="20.00" fill="white">LEGEND</text>
<polygon fill="none" stroke="black" points="424,-770 424,-796 563,-796 563,-770 424,-770"/>
<text text-anchor="start" x="472" y="-779.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Type</text>
<polygon fill="none" stroke="black" points="563,-770 563,-796 644,-796 644,-770 563,-770"/>
<text text-anchor="start" x="566.5" y="-779.6" font-family="Courier bold" font-weight="bold" font-size="18.00">Example</text>
<polygon fill="#54ff9f" stroke="transparent" points="424,-746 424,-770 563,-770 563,-746 424,-746"/>
<polygon fill="none" stroke="black" points="424,-746 424,-770 563,-770 563,-746 424,-746"/>
<text text-anchor="start" x="427" y="-754.2" font-family="Times,serif" font-size="16.00">Primary Key</text>
<polygon fill="#54ff9f" stroke="transparent" points="563,-746 563,-770 644,-770 644,-746 563,-746"/>
<polygon fill="none" stroke="black" points="563,-746 563,-770 644,-770 644,-746 563,-746"/>
<text text-anchor="start" x="576.5" y="-754.2" font-family="Times,serif" font-size="16.00">integer+</text>
<polygon fill="none" stroke="black" points="424,-722 424,-746 563,-746 563,-722 424,-722"/>
<text text-anchor="start" x="427" y="-730.2" font-family="Times,serif" font-size="16.00">Standard Field</text>
<polygon fill="none" stroke="black" points="563,-722 563,-746 644,-746 644,-722 563,-722"/>
<text text-anchor="start" x="586" y="-730.2" font-family="Times,serif" font-size="16.00">bytea</text>
<polygon fill="none" stroke="black" points="424,-698 424,-722 563,-722 563,-698 424,-698"/>
<text text-anchor="start" x="427" y="-706.2" font-family="Times,serif" font-size="16.00">Nullable Field</text>
<polygon fill="none" stroke="black" points="563,-698 563,-722 644,-722 644,-698 563,-698"/>
<text text-anchor="start" x="592" y="-707.2" font-family="Times,serif" font-style="italic" font-size="16.00">text</text>
<polygon fill="none" stroke="black" points="424,-674 424,-698 563,-698 563,-674 424,-674"/>
<text text-anchor="start" x="427" y="-682.2" font-family="Times,serif" font-size="16.00">Sized Field</text>
<polygon fill="none" stroke="black" points="563,-674 563,-698 644,-698 644,-674 563,-674"/>
<text text-anchor="start" x="566" y="-682.2" font-family="Times,serif" font-size="16.00">varchar(32)</text>
<polygon fill="none" stroke="black" points="424,-650 424,-674 563,-674 563,-650 424,-650"/>
<text text-anchor="start" x="427" y="-658.2" font-family="Times,serif" font-size="16.00">Autoincrement Field</text>
<polygon fill="none" stroke="black" points="563,-650 563,-674 644,-674 644,-650 563,-650"/>
<text text-anchor="start" x="576.5" y="-658.2" font-family="Times,serif" font-size="16.00">integer+</text>
</g>
</g>
</svg>
